 <div class="post">
  <div class="original-poster-info">
    <div class="profile-pic">
      <% if @post.user != nil %>
        <%= image_tag @post.user.profile_pic.url(:thumb) %>
      <% else %>
        <%= image_tag 'anon.jpg', class: 'default-image' %>
      <% end %>
    </div>
    <div class="profile-info">
      <% if @post.user != nil %>
        <%= @post.user.handle %><br>
      <% end %>

      <% if @post.user != current_user && @post.user != nil && current_user != nil %>
        <% if followed?(@post.user) == false %>

          <%= link_to "Follow", follow_path(id: @post.user.id), class: 'btn btn-info', method: :post %>
        <% else %>
          <%= link_to "Unfollow", unfollow_path(id: @post.user.id), class: 'btn btn-danger', method: :delete %>
        <% end %>
      <% end %>

      <% if @post.user == current_user && current_user != nil%>
        <%= link_to "Delete", post_path(id: @post.id), method: :delete, class: 'btn btn-danger' %>
      <% end %>
    </div>
  </div>
  <div class="content">
    <div class="title">
      <%= @post.title %>
    </div>
    <div class="words">
      <%= @post.words %>
    </div>
  </div>
</div>

<!-- COMMENT ON POST FORM -->

<%= form_for([@post, @comment], html: {class: "hidden new_comment", id: "#new_comment_#{@post.id}"}) do |f| %>
  <%= f.text_area :words %>
  <br>
  <%= f.submit "Submit" %>
<% end %>

<!--      -->

<button class="toggle-comment-form">Add a Comment</button>

<% if @post.comments.count > 0 %>
  <h3>Comments</h3>
  <% @post.comments.order(created_at: :desc).each do |comment| %>
    <%= render "comment", comment: comment %> <br>
  <% end %>
<% end %>

<script>
$(".toggle-comment-form").on("click", function(e) {
  $(".new_comment").removeClass("hidden");
  $(e.target).addClass('hidden');
});
</script>
